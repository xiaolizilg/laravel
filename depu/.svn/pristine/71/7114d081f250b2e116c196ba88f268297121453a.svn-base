{"__meta":{"id":"0f7e78121d32e3a0848904b4e3b05b22","datetime":"2017-06-21 18:29:10","utime":1498040950.708363,"method":"GET","uri":"\/api\/user\/me","ip":"127.0.0.1"},"php":{"version":"7.1.5","interface":"cli-server"},"messages":{"count":1,"messages":[{"message":"[18:29:10] LOG.error: BadMethodCallException: Method getKey does not exist. in D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\Macroable.php:74\nStack trace:\n#0 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(268): Illuminate\\Support\\Collection->__call('getKey', Array)\n#1 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(117): Illuminate\\Database\\Eloquent\\Collection->getDictionary()\n#2 D:\\WWW\\depu\\app\\Repositories\\Api\\User\\UserRepository.php(88): Illuminate\\Database\\Eloquent\\Collection->merge(Object(Illuminate\\Database\\Eloquent\\Collection))\n#3 D:\\WWW\\depu\\app\\Http\\Controllers\\Api\\User\\MeController.php(21): App\\Repositories\\Api\\User\\UserRepository->getOwnAdminId()\n#4 [internal function]: App\\Http\\Controllers\\Api\\User\\MeController->index(Object(App\\Repositories\\Api\\User\\UserRepository))\n#5 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(55): call_user_func_array(Array, Array)\n#6 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(44): Illuminate\\Routing\\Controller->callAction('index', Array)\n#7 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(203): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\User\\MeController), 'index')\n#8 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(160): Illuminate\\Routing\\Route->runController()\n#9 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(574): Illuminate\\Routing\\Route->run()\n#10 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#11 D:\\WWW\\depu\\app\\Http\\Middleware\\SetLocaleConfig.php(26): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#12 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): App\\Http\\Middleware\\SetLocaleConfig->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#13 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#14 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#15 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#16 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#17 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(43): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#18 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')\n#19 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#20 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#21 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), '60', '1')\n#22 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#23 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#24 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(576): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#25 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(535): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n#26 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(513): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#27 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(174): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#28 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))\n#29 D:\\WWW\\depu\\vendor\\barryvdh\\laravel-debugbar\\src\\Middleware\\Debugbar.php(51): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#30 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Barryvdh\\Debugbar\\Middleware\\Debugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#31 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#32 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(30): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#33 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#34 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#35 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(30): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#36 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#37 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#38 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#39 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#40 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#41 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode.php(46): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#42 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#43 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#44 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#45 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(149): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#46 D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n#47 D:\\WWW\\depu\\public\\index.php(53): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n#48 D:\\WWW\\depu\\server.php(21): require_once('D:\\\\WWW\\\\depu\\\\pub...')\n#49 {main}","is_string":false,"label":"error","time":1498040950.698412,"collector":"log"}]},"time":{"start":1498040950.474702,"end":1498040950.708412,"duration":0.23371005058288574,"duration_str":"233.71ms","measures":[{"label":"Booting","start":1498040950.474702,"relative_start":0,"end":1498040950.61033,"relative_end":1498040950.61033,"duration":0.13562822341918945,"duration_str":"135.63ms","params":[],"collector":null},{"label":"Application","start":1498040950.577326,"relative_start":0.10262417793273926,"end":1498040950.708416,"relative_end":4.0531158447265625e-6,"duration":0.1310899257659912,"duration_str":"131.09ms","params":[],"collector":null}]},"memory":{"peak_usage":2097152,"peak_usage_str":"2MB"},"exceptions":{"count":1,"exceptions":[{"type":"BadMethodCallException","message":"Method getKey does not exist.","code":0,"file":"D:\\WWW\\depu\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\Macroable.php","line":74,"surrounding_lines":["    public function __call($method, $parameters)\n","    {\n","        if (! static::hasMacro($method)) {\n","            throw new BadMethodCallException(\"Method {$method} does not exist.\");\n","        }\n","\n","        if (static::$macros[$method] instanceof Closure) {\n"]}]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"GET api\/user\/me","middleware":"api, auth:api","as":"api.user.me.index","controller":"App\\Http\\Controllers\\Api\\User\\MeController@index","namespace":"App\\Http\\Controllers\\Api\\User","prefix":"api\/user","where":[],"file":"\\app\\Http\\Controllers\\Api\\User\\MeController.php:19-32"},"queries":{"nb_statements":4,"nb_failed_statements":0,"accumulated_duration":0.01166,"accumulated_duration_str":"11.66ms","statements":[{"sql":"select * from `depu_user_accounts` where `api_token` = 'A3aYwhjgn0kHrOMZW0QwH1QKVuIck8AkZIuWaLJWBRW4U7VJ59OEmFIC6lJy' limit 1","type":"query","params":[],"bindings":["A3aYwhjgn0kHrOMZW0QwH1QKVuIck8AkZIuWaLJWBRW4U7VJ59OEmFIC6lJy"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table","<code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"],"backtrace":[{"index":47,"namespace":null,"name":"\\public\\index.php","line":53}],"duration":0.00553,"duration_str":"5.53ms","stmt_id":"\\public\\index.php:53","connection":"dpky"},{"sql":"select `own_admin_id` from `depu_users` where (`guard` = '0') and `depu_users`.`deleted_at` is null","type":"query","params":[],"bindings":["0"],"hints":[],"backtrace":[{"index":12,"namespace":null,"name":"\\app\\Repositories\\Api\\User\\UserRepository.php","line":86},{"index":13,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\User\\MeController.php","line":21},{"index":21,"namespace":null,"name":"\\app\\Http\\Middleware\\SetLocaleConfig.php","line":26},{"index":57,"namespace":null,"name":"\\public\\index.php","line":53}],"duration":0.0022,"duration_str":"2.2ms","stmt_id":"\\app\\Repositories\\Api\\User\\UserRepository.php:86","connection":"dpky"},{"sql":"select * from `depu_roles` where `depu_roles`.`id` = '3' and `depu_roles`.`deleted_at` is null limit 1","type":"query","params":[],"bindings":["3"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table","<code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"],"backtrace":[{"index":16,"namespace":null,"name":"\\app\\Repositories\\Api\\User\\UserRepository.php","line":88},{"index":17,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\User\\MeController.php","line":21},{"index":25,"namespace":null,"name":"\\app\\Http\\Middleware\\SetLocaleConfig.php","line":26},{"index":61,"namespace":null,"name":"\\public\\index.php","line":53}],"duration":0.00197,"duration_str":"1.97ms","stmt_id":"\\app\\Repositories\\Api\\User\\UserRepository.php:88","connection":"dpky"},{"sql":"select `id`, `depu_role_user`.`role_id` as `pivot_role_id`, `depu_role_user`.`user_id` as `pivot_user_id` from `depu_users` inner join `depu_role_user` on `depu_users`.`id` = `depu_role_user`.`user_id` where `depu_role_user`.`role_id` = '3' and `depu_users`.`deleted_at` is null","type":"query","params":[],"bindings":["3"],"hints":[],"backtrace":[{"index":12,"namespace":null,"name":"\\app\\Repositories\\Api\\User\\UserRepository.php","line":88},{"index":13,"namespace":null,"name":"\\app\\Http\\Controllers\\Api\\User\\MeController.php","line":21},{"index":21,"namespace":null,"name":"\\app\\Http\\Middleware\\SetLocaleConfig.php","line":26},{"index":57,"namespace":null,"name":"\\public\\index.php","line":53}],"duration":0.00196,"duration_str":"1.96ms","stmt_id":"\\app\\Repositories\\Api\\User\\UserRepository.php:88","connection":"dpky"}]},"swiftmailer_mails":{"count":0,"mails":[]},"auth":{"guards":{"web":"array:2 [\n  \"name\" => \"Guest\"\n  \"user\" => array:1 [\n    \"guest\" => true\n  ]\n]","admin":"array:2 [\n  \"name\" => \"Guest\"\n  \"user\" => array:1 [\n    \"guest\" => true\n  ]\n]","api":"array:2 [\n  \"name\" => 3\n  \"user\" => array:8 [\n    \"user_id\" => 3\n    \"guard\" => 0\n    \"type\" => 3\n    \"name\" => \"79454041664\"\n    \"api_token\" => \"A3aYwhjgn0kHrOMZW0QwH1QKVuIck8AkZIuWaLJWBRW4U7VJ59OEmFIC6lJy\"\n    \"deleted_at\" => null\n    \"created_at\" => \"2017-06-21 18:23:37\"\n    \"updated_at\" => \"2017-06-21 18:23:37\"\n  ]\n]"},"names":"api: 3"},"gate":{"count":0,"messages":[]},"session":[],"request":{"format":"html","content_type":"application\/json","status_text":"Internal Server Error","status_code":"500","request_query":"[]","request_request":"[]","request_headers":"array:9 [\n  \"host\" => array:1 [\n    0 => \"127.0.0.1:8000\"\n  ]\n  \"connection\" => array:1 [\n    0 => \"keep-alive\"\n  ]\n  \"accept\" => array:1 [\n    0 => \"application\/json\"\n  ]\n  \"cache-control\" => array:1 [\n    0 => \"no-cache\"\n  ]\n  \"user-agent\" => array:1 [\n    0 => \"Mozilla\/5.0 (Windows NT 10.0; WOW64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/58.0.3029.96 Safari\/537.36\"\n  ]\n  \"authorization\" => array:1 [\n    0 => \"Bearer A3aYwhjgn0kHrOMZW0QwH1QKVuIck8AkZIuWaLJWBRW4U7VJ59OEmFIC6lJy\"\n  ]\n  \"postman-token\" => array:1 [\n    0 => \"d4021407-02ee-5d1d-a6d5-c432ae847fdb\"\n  ]\n  \"accept-encoding\" => array:1 [\n    0 => \"gzip, deflate, sdch, br\"\n  ]\n  \"accept-language\" => array:1 [\n    0 => \"zh-CN,zh;q=0.8\"\n  ]\n]","request_server":"array:24 [\n  \"DOCUMENT_ROOT\" => \"D:\\WWW\\depu\\public\"\n  \"REMOTE_ADDR\" => \"127.0.0.1\"\n  \"REMOTE_PORT\" => \"54115\"\n  \"SERVER_SOFTWARE\" => \"PHP 7.1.5 Development Server\"\n  \"SERVER_PROTOCOL\" => \"HTTP\/1.1\"\n  \"SERVER_NAME\" => \"127.0.0.1\"\n  \"SERVER_PORT\" => \"8000\"\n  \"REQUEST_URI\" => \"\/api\/user\/me\"\n  \"REQUEST_METHOD\" => \"GET\"\n  \"SCRIPT_NAME\" => \"\/index.php\"\n  \"SCRIPT_FILENAME\" => \"D:\\WWW\\depu\\public\\index.php\"\n  \"PATH_INFO\" => \"\/api\/user\/me\"\n  \"PHP_SELF\" => \"\/index.php\/api\/user\/me\"\n  \"HTTP_HOST\" => \"127.0.0.1:8000\"\n  \"HTTP_CONNECTION\" => \"keep-alive\"\n  \"HTTP_ACCEPT\" => \"application\/json\"\n  \"HTTP_CACHE_CONTROL\" => \"no-cache\"\n  \"HTTP_USER_AGENT\" => \"Mozilla\/5.0 (Windows NT 10.0; WOW64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/58.0.3029.96 Safari\/537.36\"\n  \"HTTP_AUTHORIZATION\" => \"Bearer A3aYwhjgn0kHrOMZW0QwH1QKVuIck8AkZIuWaLJWBRW4U7VJ59OEmFIC6lJy\"\n  \"HTTP_POSTMAN_TOKEN\" => \"d4021407-02ee-5d1d-a6d5-c432ae847fdb\"\n  \"HTTP_ACCEPT_ENCODING\" => \"gzip, deflate, sdch, br\"\n  \"HTTP_ACCEPT_LANGUAGE\" => \"zh-CN,zh;q=0.8\"\n  \"REQUEST_TIME_FLOAT\" => 1498040950.4747\n  \"REQUEST_TIME\" => 1498040950\n]","request_cookies":"[]","response_headers":"array:5 [\n  \"cache-control\" => array:1 [\n    0 => \"no-cache, private\"\n  ]\n  \"date\" => array:1 [\n    0 => \"Wed, 21 Jun 2017 10:29:10 GMT\"\n  ]\n  \"content-type\" => array:1 [\n    0 => \"application\/json\"\n  ]\n  \"x-ratelimit-limit\" => array:1 [\n    0 => \"60\"\n  ]\n  \"x-ratelimit-remaining\" => array:1 [\n    0 => 58\n  ]\n]","path_info":"\/api\/user\/me","session_attributes":"[]"}}